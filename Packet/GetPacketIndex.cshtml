@using SKC.Entity.Models;
@using SKC.Entity.Enums;
@model GetPacketModel
@{
    string picUrl = ViewBag.DefaultPic;
    string picUrl_En = ViewBag.DefaultPic_EN;
    decimal getAmount = 0;
    string packetResult = string.Empty;
    string viewmodel = "1";
    ViewBag.Title = Model.CreateUserName + Html.Raw(Html.GetTansByLan("packet-packetIndex-18", " Send lucky money,Got it"));
    ViewBag.Description = Model.Message;
    if (Model != null && Model.ItemList != null && Model.ItemList.Count > 0)
    {

        var item = Model.ItemList.Where(o => o.GetUserID == Model.GetUserID).ToList();
        if (item != null && item.Count > 0)
        {
            getAmount = item[0].GetAmount;
        }
        // 判断红包是否抢完
        if (Model.CountUsed == Model.Count)
        {
            packetResult = Model.Count.ToString() + Html.Raw(Html.GetTansByLan("packet-packetIndex-19", " red packets opened in ")) + Model.GetTotalTime;
        }
        else
        {
            packetResult = Model.Count.ToString() + Html.Raw(Html.GetTansByLan("packet-packetIndex-20", " red packets，")) + Model.CountUsed.ToString() + Html.Raw(Html.GetTansByLan("packet-packetIndex-21", " opend"));
        }
    }

    if (Model.UseType == (int)EnumPacketType.新用户邀请)
    {
        if (Model.CreateUserID == Model.GetUserID)
        {
            viewmodel = "6";    // 领取人和创建人一致情况
        }
        else
        {
            viewmodel = "7";    // 领取人已注册
        }
    }
    else
    {
        if (string.IsNullOrEmpty(ViewBag.RedPacketSession))
        {
            viewmodel = "5";    // 带广告
        }

        if (Model.Status == 1 || (Model.IsOverTime != 1 && getAmount > 0))
        {
            viewmodel = "2";    // 领取过红包
        }
        else if (Model.IsOverTime == 1)
        {
            viewmodel = "3";    // 红包超时
        }

        if (Model.Count == Model.CountUsed && getAmount == 0)
        {
            viewmodel = "4";    // 红包已被领完，且该红包当前人未领取过
        }

        //if (!string.IsNullOrEmpty(Model.ErrorCode) && Model.ErrorCode == "-100")
        //{
        //    viewmodel = "8";    // 红包URL中的分享人异常
        //}
    }

}
<head>
    <title>@Model.CreateUserName</title>
</head>

<style>
    @@media (min-width: 576px) {
        .modal .modal-dialog.modal-draw { width: 360px; }
    }
    .modal .modal-draw .modal-content { background-color: #c83c32; border-radius: 10px; }
    .modal .modal-draw .modal-content .modal-header { position: absolute; top: 0; right: 0; z-index: 9; border-bottom: none; padding: 25px 25px 0 0; }
    .modal .modal-draw .modal-content .modal-header .close { color: #f0c88c; opacity: 1; height: 18px; cursor: pointer; }
    .modal .modal-draw .modal-content .svg-wrap { position: absolute; top: 0; bottom: 0; left: 0; right: 0; border-radius: 10px; overflow: hidden; }
    .modal .modal-draw .modal-content .svg-wrap .pathfillellipse { width: 100%; }
    .modal .modal-draw .modal-content .red-packet { position: relative; padding: 30px 0; text-align: center; color: #f0c88c; }
    .modal .modal-draw .modal-content .avatar { display: flex; align-items: center; justify-content: center; width: 4rem; height: 4rem; margin: 0 auto; border-radius: 0.4285714rem; border: 1px solid #ff6400; background-color: #fff; }
    .modal .modal-draw .modal-content .avatar > img { max-width: 100%; max-height: 100%; }
    .modal .modal-draw .modal-content .sendname { font-size: 1.25rem; margin: 1rem 0 0.3rem 0; }
    .modal .modal-draw .modal-content .sendopt { font-size: 1rem; }
    .modal .modal-draw .modal-content .leavemessage { display: table; width: 100%; height: 90px; font-size: 1.5rem; line-height: 1.2; }
    .modal .modal-draw .modal-content .message-cell { display: table-cell; vertical-align: middle; padding: 10px 0; }
    .modal .modal-draw .modal-content .draw-silk { display: inline-block; width: 100px; height: 100px; margin-top: 20px; background-color: #f0c88c; background-image: url(/images/ba-active/red-packet-open@(Html.GetLang() == "en" ? "-en" : "").png); background-repeat: no-repeat; background-position: center center; background-size: contain; cursor: pointer; border: none; outline: 0; border-radius: 50%; }
    .modal .modal-draw .modal-content .btnspace { display: inline-block; width: 100px; height: 100px; margin-top: 20px; }
    .modal .modal-draw .modal-content .viewdetail { position: absolute; width: 100%; bottom: 10px; text-align: center; line-height: 1; }
    .modal .modal-draw .modal-content .viewdelnk { font-size: 1rem; color: #f0c88c; text-decoration: none; }

    .modal .modal-draw-detail .modal-content { background-color: #f0f0f0; }
    .modal .modal-draw-detail .modal-content .modal-body { padding: 25px 0 0 0; }
    .m-stack.m-stack--flex-general .draw-packet { position: relative; background-color: #fff; flex: 1 0 auto; border-radius: 0 0 10px 10px; overflow: hidden; }
    .modal .modal-draw-detail .modal-content .red-packet { padding-bottom: 10px; text-align: center; color: #333; }
    .modal .modal-draw-detail .modal-content .sendname { font-size: 1.15rem; margin: 1rem 0 0.3rem 0; }
    .modal .modal-draw-detail .modal-content .sendname i { display: inline-block; vertical-align: text-bottom; width: 1.428571rem; height: 1.428571rem; background-color: #ff9600; color: #fff; text-align: center; line-height: 1.428571rem; font-size: 1rem; font-style: normal; margin-left: 0.5rem; border-radius: 4px; }
    .modal .modal-draw-detail .modal-content .sendopt { font-size: 1rem; }
    .modal .modal-draw-detail .modal-content .price { margin-top: 10px; margin-bottom: 4px; line-height: 1; }
    .modal .modal-draw-detail .modal-content .price > strong { font-size: 3rem; font-family: arial; }
    .modal .modal-draw-detail .modal-content .price > em { font-size: 1.15rem; font-style: normal; }
    .modal .modal-draw-detail .modal-content .draw-packet {background-color:#f0f0f0;}
    .modal .modal-draw-detail .modal-content .draw-packet-inner { width: 100%; height: 100%; }
    .modal .modal-draw-detail .modal-content .draw-packet-tle { padding: 10px 15px; border-bottom: 1px solid #ddd; font-size: 1rem; color: #888; }
    .modal .modal-draw-detail .modal-content .rowitem { border-bottom: 1px solid #ddd; padding: 10px 0; position: relative; display: -webkit-box; display: -webkit-flex; display: flex; -webkit-align-items: flex-star; align-items: flex-star; }
    .modal .modal-draw-detail .modal-content .rowmd { -webkit-box-flex: 1; -webkit-flex: 1; flex: 1; }
    .modal .modal-draw-detail .modal-content .rowitem-ul { padding: 0 15px; }
    .modal .modal-draw-detail .modal-content .headpic { float: left; width: 2.5rem; height: 2.5rem; border-radius: 4px; overflow: hidden; text-align: center; margin-right: 1rem; }
    .modal .modal-draw-detail .modal-content .headpic img { float: left; max-width: 100%; }
    .modal .modal-draw-detail .modal-content .headpic .default-img {display:block;width: 2.5rem; height: 2.5rem;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NThERUNCNTExREJCMTFFOEE2NjhGNUIwQUU1NDU1NUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NThERUNCNTIxREJCMTFFOEE2NjhGNUIwQUU1NDU1NUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1OERFQ0I0RjFEQkIxMUU4QTY2OEY1QjBBRTU0NTU1QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1OERFQ0I1MDFEQkIxMUU4QTY2OEY1QjBBRTU0NTU1QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnOyT70AAAplSURBVHja7FwLlFVV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) no-repeat;background-size:cover;}
    .modal .modal-draw-detail .modal-content .nametxt { font-size: 1.15rem; line-height: 1; margin-bottom: 0.4rem; }
    .modal .modal-draw-detail .modal-content .datenub { font-size: 1em; color: #bbb; line-height: 1; }
    .modal .modal-draw-detail .modal-content .distrib { text-align: right; line-height: 1; }
    .modal .modal-draw-detail .modal-content .linefeed { margin-top: 0.5rem; }
    .modal .modal-draw-detail .text-orange { color: #ff9600; }
    .modal .modal-draw-detail .text-bule { color: #2485c9; }

    .modal .modal-draw-detail .share-out {margin:30px 0 10px 0;}
    .modal .modal-draw-detail .btn-outline-share {border:1px solid #bbb;background-color:#fff;padding:0;text-align:center;width:140px;height:46px;line-height:1.2;color:#e13c23;margin:0 2px;}
    .modal .modal-draw-detail .btn-outline-share:hover {background-color:#f2f2f2;}
    .modal .modal-draw-detail .btn-outline-share.disabled,
    .modal .modal-draw-detail .btn-outline-share:disabled {background-color:#f5f5f5;color:#a0a0a0;cursor:not-allowed;}

    .btn-danger{color:#fff;background-color:#e13c23;border-color:#e13c23;}
    .btn-danger:hover{color:#fff;background-color:#f22d4e;border-color:#f12143;}
    .btn-danger:focus, .btn-danger.focus{box-shadow:0 0 0 3px rgba(244, 81, 108, 0.5);}
    .btn-danger.disabled, .btn-danger:disabled{background-color:#e13c23;border-color:#e13c23;}
    .btn-danger:active, .btn-danger.active {background-color:#f22d4e;background-image:none;border-color:#f12143;}
    .btn-lg, .btn-group-lg > .btn {padding:0.65rem 1.75rem;}
    .rounded-0 {border-radius:0 !important;}
    .modal .modal-draw-detail .red-box-wrapper {position:relative;padding:1.5rem 2rem;background-color:#fff;border-radius:0 0 10px 10px;}
    .modal .modal-draw-detail .wish-word {word-wrap:break-word;}
    .modal .modal-draw-detail .m-img-square {position:relative;width:100%;}
    .modal .modal-draw-detail .m-bg-img {width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;}
    .modal .modal-draw-detail .m-bg-img img {width:100%;vertical-align:middle;border-radius:8px;box-shadow:0px 1px 10px 1px rgba(40, 50, 60, 0.2);}
    .modal .modal-draw-detail .row.row-gutter-size {margin-left:-2rem;margin-right:-2rem;margin-bottom:-1.5rem;padding:1rem 1rem 0.2rem;}
    .modal .modal-draw-detail .row.row-gutter-size > [class*="col-"] {padding-left:0;padding-right:0;padding-bottom:0.8rem;}
    .modal .modal-draw-detail .row.row-gutter-size.bg-none .m-bg-img img {box-shadow:none;}
    .modal .modal-draw-detail .ft-act-cell {position:relative;z-index:9;padding:1rem 3.4rem;background-color:#f0f0f0;border-radius:0 0 10px 10px;}

    @@media (min-width: 768px) {
        .modal .modal-dialog.modal-shareby {width: 360px;}
        .modal .modal-dialog.modal-shareby .modal-content {border-radius:10px;}
    }
    .modal .modal-shareby .modal-content {height:inherit;min-height:100%;background:url(/images/ba-active/red-packet-qr-bg.jpg) no-repeat center center;background-size:cover;}
    .modal .modal-shareby .modal-content .modal-header { position: absolute; top: 0; right: 0; z-index: 9; border-bottom: none; padding: 20px 18px 0 0; }
    .modal .modal-shareby .modal-content .modal-header .close { color: #666; opacity: 1; height: 18px; cursor: pointer; }
    .modal .modal-shareby .modal-content .modal-body {padding:0;}
    .modal .modal-shareby .modal-content .celeb-packet {position:relative;padding-top:160.8%;background:url(/images/ba-active/red-packet-qr@(Html.GetLang() == "en" ? "-en" : "").png) no-repeat center top;background-size:contain;}
    .modal .modal-shareby .modal-content .leavemessage {position:absolute;left:9%;top:20%;display:table;width:82%;height:90px;font-size:1rem;line-height: 1.2;}
    .modal .modal-shareby .modal-content .message-cell {display: table-cell; vertical-align: top; padding: 10px; }
    .modal .modal-shareby .modal-content .sendname {position:absolute;left:0;width:100%;top:14%;padding:0 25px;font-size: 1.15rem;text-align:center;color:#333;}
    .modal .modal-shareby .modal-content .sendname i { display: inline-block; vertical-align: text-bottom; width: 1.428571rem; height: 1.428571rem; background-color: #ff9600; color: #fff; text-align: center; line-height: 1.428571rem; font-size: 1rem; font-style: normal; margin-left: 0.5rem; border-radius: 4px; }
    .modal .modal-shareby .modal-content .qrcode-box {position:absolute;left:34%;top:57%;width:32%;padding:5px;background-color:#fff;}
    .modal .modal-shareby .modal-content .qrcode-box canvas {vertical-align:middle;}
    @@media (max-width: 767.98px) {
        .modal .modal-dialog.modal-shareby {margin:0;min-height:100%;height:100%;}
        .modal .modal-dialog.modal-shareby .modal-content {border-radius:0px;}
    }
    @@media screen and (orientation:landscape){
        .modal .modal-dialog.modal-shareby {height:inherit;}
    }

    .m-grid.m-grid--ver-desktop.m-grid--desktop { display: flex; flex-direction: row; }

    .m-grid.m-grid--ver-desktop.m-grid--desktop > .m-grid__item.m-grid__item--fluid { flex: 1 0 auto; }

    .m-content,
    .m-packet__container { height: 100%; }

    .m-packet__wrapper { padding-top: 20px; width: 430px; margin: 0 auto; }

    .m-stack.m-stack--flex-general .m-packet__wrapper { flex: 1 0 auto; }

    .m-packet_backwrap { padding-top: 20px; text-align: center; }

    .m-packet_backwrap .m-packet_rich-icon { width: 8.571428rem; height: 11.428571rem; margin: 0 auto; background: url(/images/ba-active/red-packet-result.png) no-repeat center center; background-size: cover; padding: 6.3rem 2rem 0; }

    .m-packet_backwrap .m-packet_rich-cover { font-size: 1rem; line-height: 1.5; color: #f0c88c; height: 3em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }

    .m-packet_backwrap .m-txt-1 { color: #333; font-size: 1.28rem; margin-top: 15px; font-weight: 500; }

    .m-packet_backwrap .m-txt-2 { color: #333; font-size: 1rem; }

    .m-packet_copybtn {padding-top:10px;}

    .m-packet_copybtn .btn-lg { padding-top: 0.5rem; padding-bottom: 0.5rem; }

    .btn-outline-weixin { color: #333; background-color: #fff; background-image: none; border-color: #3cb035; }

    .btn-outline-weixin:hover { border-color: #3cb035; }

    .btn-outline-weixin:focus, .btn-outline-weixin.focus { box-shadow: 0 0 0 3px rgba(60, 176, 53, 0.5); }

    .btn-outline-weixin.disabled, .btn-outline-weixin:disabled { color: #727272; background-color: transparent; }

    .m-packet_copybtn .m-packet_copy-input { background: none; border: none; padding: 0 5px; flex: 1 0 auto; background-color: #eee; cursor: not-allowed; padding: 0.5rem 0.8rem; }

    .m-packet_copybtn .btn-secondary { border: none; }

    .m-packet_copybtn .btn-secondary:hover { background-color: transparent; }

    .m-packet_copybtn .m-packet_copy-input { border-right: 1px solid #ddd; }

    .m-packet_copybtn .input-group-btn { border-left: 1px solid #ddd; }

    .m-packet_copybtn .m-pill-round { margin-bottom: 0.5rem; background-color: #fff; border-radius: 60px; border: 1px solid #e13c23; overflow: hidden; }

    .m-packet_copybtn .btn-outline-weixin i { display: inline-block; width: 1.5rem; height: 1.5rem; vertical-align: text-bottom; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTQ0MjQ1MDkzRUZDMTFFODhCMDI4NjJDNTkyRjM1OTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTQ0MjQ1MEEzRUZDMTFFODhCMDI4NjJDNTkyRjM1OTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5NDQyNDUwNzNFRkMxMUU4OEIwMjg2MkM1OTJGMzU5MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5NDQyNDUwODNFRkMxMUU4OEIwMjg2MkM1OTJGMzU5MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PljMW7EAAAbpSURBVHjazFp7UFRl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) no-repeat; background-size: cover; margin-right: 10px; }

    .m-packet_copybtn .wx-fx-box { padding: 1px 0; margin-left: 10px; cursor: pointer; }
    .m-packet_copybtn .wx-fx-box i { display: inline-block; width: 3rem; height: 3rem; vertical-align: text-bottom; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzM1QUY5RkU0NkRCMTFFODlCRTVDQzJENzE0NEVGMTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzM1QUY5RkY0NkRCMTFFODlCRTVDQzJENzE0NEVGMTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMzVBRjlGQzQ2REIxMUU4OUJFNUNDMkQ3MTQ0RUYxOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMzVBRjlGRDQ2REIxMUU4OUJFNUNDMkQ3MTQ0RUYxOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkgRIbMAAAvfSURBVHja7FwHVFNp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) no-repeat; background-size: cover; }
    .m-packet_cpshare { position: absolute; right: 50%; top: -30px; color: #2485c9; font-size: 12px; white-space: nowrap; padding-right: 20px; padding-bottom: 10px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATCAYAAACZZ43PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzFCNEE1NjM0NkU0MTFFODhDREVEMTQ0MzBENUMwRDUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzFCNEE1NjQ0NkU0MTFFODhDREVEMTQ0MzBENUMwRDUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MUI0QTU2MTQ2RTQxMUU4OENERUQxNDQzMEQ1QzBENSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MUI0QTU2MjQ2RTQxMUU4OENERUQxNDQzMEQ1QzBENSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm3YTikAAAEHSURBVHjapNS/SwJhHMfxJxEHsaUlaBGiSbCWoMHNxcXJQRqcEgukaPAfqMBNAhEHQcFFdBcEkRJ0EspJVyeTwB+Li5P6fuA5uCHonscPvIY77j58n+ce7ugiOygIIa7RQBMToREXXvGCAOrI40SnYIE2HhCDD9+4dVpgzw+SuMO7mkarwEoXV4igYlIgM0cIUbVHf8b9z4RLhDHCJ3o6E1gZ4w1V3SXYI5dwjJRpwQ5FPJsWyJRxikvTgilmiJsWyAwPmUCoI+6zXZ87KfCiJR9GH351P4eOk4INVvjCjToXQWSQdlKwRQI1lHCGD/VZ226N9T/Bg3v84tFkE+XPZ229LLMXYAC1NS8x0C+MPQAAAABJRU5ErkJggg==) no-repeat right bottom; }

    .m-packet_wxtips { position: fixed; left: 0; top: 0; z-index: 999; width: 100%; height: 100%; background: rgba(0,0,0,.8) url(/images/ba-active/weixin-share.png) no-repeat center top; background-size: 95% auto; }

    .m-packet_copybtn .share-item {margin-left:30px;margin-right:30px;margin-top:20px;border:1px dashed #ccc;padding:10px;background-color:#fff;border-radius:5px;}
    .m-packet_copybtn .share-item .share-tle {font-size:1.3rem;}
    .m-packet_copybtn .share-item .share-sub {font-size:1rem;margin-bottom:10px;line-height:1.2;}
    .m-packet_copybtn .share-item .share-tle,
    .m-packet_copybtn .share-item .share-sub {padding-left:8px;}
    .btn-outline-primary{color:#e13c23;background-color:transparent;background-image:none;border-color:#e13c23;}
    .btn-outline-primary:hover{color:#fff;background-color:#e13c23;border-color:#e13c23;}
    .btn-outline-primary.disabled, .btn-outline-primary:disabled{color:#e6624e;background-color:transparent;}
    .btn-outline-primary:active, .btn-outline-primary.active {color:#fff;background-color:#e13c23;border-color:#e13c23;}
    @* 新用户分享红包新增样式 *@
    .m-footer--push.m-aside-left--enabled:not(.m-footer--fixed) .m-footer {z-index:-1;}
    .m-packet__wrapper.newshare {padding-top:20.5rem;background:url(/images/ba-active/red-packet-newshare@(Html.GetLang() == "en" ? "-en" : "").jpg) no-repeat center top;background-size:contain;}
    .m-packet__wrapper.newshare .m-packet_copybtn .share-item {background-color:rgba(255,255,255,0.8);border-color:rgba(220,137,42,0.8);}
    .m-packet__wrapper.newshare .m-packet_copybtn .m-pill-round {border-color:#ddd;}
    .m-packet__wrapper.newshare .m-packet_copybtn .m-packet_copy-input {background-color:#fff;}
    .m-packet__wrapper.newshare .input-group .input-group-btn > .btn.btn-secondary {background-color:#f5f5f5;border-color:#f5f5f5;}
    .m-packet__wrapper.newshare .m-packet_copybtn .btn-outline-primary {background:#e13c23;color:#fff;}
    @@media (min-width: 768px) {
        .modal .modal-dialog.modal-newby {width: 380px;}
        .modal .modal-dialog.modal-newby .modal-content {border-radius:10px;}
    .modal .modal-newby .modal-content .celeb-packet {border-radius:10px 10px 0 0;}
    }
    .modal .modal-newby .modal-content {height:inherit;min-height:100%;background-color:#ffb43c;}
    .modal .modal-newby .modal-content .modal-header { position: absolute; top: 0; right: 0; z-index: 9; border-bottom: none; padding: 20px 18px 0 0; }
    .modal .modal-newby .modal-content .modal-header .close { color: #666; opacity: 1; height: 18px; cursor: pointer; }
    .modal .modal-newby .modal-content .modal-body {padding:0;}
    .modal .modal-newby .modal-content .celeb-packet {position:relative;padding-top:182%;background:url(/images/ba-active/red-packet-newby@(Html.GetLang() == "en" ? "-en" : "").jpg) no-repeat center top;background-size:contain;}
    .modal .modal-newby .modal-content .qrcode-box {position:absolute;left:32%;top:46%;z-index:9;width:36%;padding:5px;background-color:#fff;}
    .modal .modal-newby .modal-content .qrcode-box canvas {vertical-align:middle;}
    .modal .modal-newby .modal-content .scan-tips {position:absolute;left:-50%;bottom:-38px;width:200%;text-align:center;color:#fff;font-size:1rem;}
    .modal .modal-newby .modal-content .awardmax {position:absolute;left:0;top:25%;width:100%;text-align:center;font-size:32px;font-weight:bold;color:#ffeeac;}
    .modal .modal-newby .modal-content .slogan-mark {position:absolute;left:20%;top:71%;width:60%;background-color:rgba(208,173,117,0.3);border:1px dashed #febf64;border-radius:4px;padding:5px 10px;font-size:0.875rem;font-weight:bold;color:#fff;line-height:1.8;text-align:center;}
    @@media (max-width: 767.98px) {
        .modal .modal-dialog.modal-newby {margin:0;min-height:100%;height:100%;}
        .modal .modal-dialog.modal-newby .modal-content {border-radius:0px;}
    }
    @@media screen and (orientation:landscape){
        .modal .modal-dialog.modal-newby {height:inherit;}
    }
    .btn-alert {color:#da0707;background-color:#fee893;border-color:#fee893;}
    .btn-alert:hover {color:#da0707;background-color:#fdd389;border-color:#fdd389;}
    .modal .modal-alert .modal-content {position:relative;height:inherit;background:url(/images/ba-active/red-packet-alert.png) no-repeat 50% 0;background-size:contain;border-radius:0;height:0;padding-bottom:94.5326%;}
    .modal .modal-alert .modal-content .modal-body {position:absolute;width:100%;height:100%;text-align:center;padding-top:42%;padding-left:12%;padding-right:12%;}
    .modal .modal-alert .modal-content .gala {color:#ffeeac;font-size:1.15rem;}
    .modal .modal-alert .modal-content .regis-btn {position:absolute;left:15%;top:80%;width:70%;padding:0 1rem;}
    @@media (min-width:576px) {
    .modal-dialog.modal-alert {max-width:360px;width:360px;}
    }
    @@media (max-width: 767.98px) {
        .m-packet__wrapper { width: 100%; padding-top: 0;}
        .m-packet_copybtn .share-item { margin-left: 10px; margin-right: 10px; margin-top:10px; margin-bottom:10px;}
    }
</style>

@if (ViewBag.Type == "POST")
{
    if (Model.FromShare == 1)
    {
        <div class="m-packet__container m-stack m-stack--flex-general m-packet_popup" style="background-color:#f2f3f8;">
            <div class="m-packet__wrapper">
                <div class="m-packet_backwrap">
                    <div class="m-packet_rich-icon"><div class="m-packet_rich-cover">@Html.GetTansByLan("packet-packetIndex-01", "Best wishes")</div></div>
                    <div class="m-txt-2 mt-3">@Html.GetTansByLan("packet-packetIndex-02", "Anyone open the red packet by your sharing link,")<br />@Html.GetTansByLan("packet-packetIndex-03", "you will get extra 10 Silk as bonus,")<br />@Html.GetTansByLan("packet-packetIndex-04", "let's share before it's too late.")</div>
                </div>
                <div class="m-packet_copybtn d-flex" style="margin-top:60px;">
                    <div class="input-group m-pill-round" style="overflow:visible;">
                        <input class="m-packet_copy-input" type="text" id="send_money_address" readonly value="@ViewBag.Url" style="border-radius:60px 0 0 60px;" />
                        <span class="input-group-btn" style="border-radius:0 60px 60px 0;" id="send_money_trigger" data-clipboard-target="#send_money_address">
                            <button class="btn btn-secondary" onclick="return copyValToClipboard('#send_money_trigger')" style="border-radius:0 60px 60px 0;"><i class="io-copy"></i></button>
                            <div class="m-packet_cpshare">@Html.GetTansByLan("packet-packetIndex-05", "Coping your sharing link")</div>
                        </span>
                    </div>
                    <div class="wx-fx-box" id="wxShareButton" hidden="true"><i></i></div>
                </div>
                <div class="m-packet_copybtn mt-0 text-center">@Html.GetTansByLan("packet-packetIndex-06", "Share as wildly as possible to get more Silk Token bonus Follow telegram (")<a href="https://t.me/silkchain" target="_blank">@Html.GetTansByLan("packet-packetIndex-08", "@SilkChain")</a>)@Html.GetTansByLan("packet-packetIndex-07", " for more bounty program")</div>
                <div class="m-packet_wxtips" id="wxTips" style="display:none;"></div>
            </div>
        </div>

        @section script{
        <script type="text/javascript">
                $(function () {
                    is_weixn();
                    function is_weixn() {
                        var ua = navigator.userAgent.toLowerCase();
                        if (/micromessenger/i.test(ua)) {
                            $("#wxShareButton").show();
                            $("#wxShareButton").removeAttr('hidden');
                        } else {
                            $("#wxShareButton").hide();
                        }
                        $("#wxShareButton").on('click', function () {
                            $("#wxTips").show();
                        });
                    }
                });
        </script>
        }
    }
    else
    {
        if (Model.UseType == 3)
        { //新用户分享红包
            <div class="m-packet__container m-stack m-stack--flex-general m-packet_popup" style="height:inherit;background-color:#ffb43c;">
                <div class="m-packet__wrapper newshare">
                    <div class="m-packet_copybtn">
                        <div class="share-item">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-36", "Packets share via link")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-37", "Copy link and send to others")</div>
                            <div class="input-group m-pill-round">
                                <input class="m-packet_copy-input" type="text" id="send_money_address" readonly value="@ViewBag.Url" />
                                <span class="input-group-btn" id="send_money_trigger" data-clipboard-target="#send_money_address">
                                    <button class="btn btn-secondary" onclick="return copyValToClipboard('#send_money_trigger')"><i class="io-copy"></i></button>
                                </span>
                            </div>
                        </div>
                        <div class="share-item">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-38", "Packets share via QR code")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-39", "Click to get QR code,screeshot to share")</div>
                            <button class="btn btn-block btn-outline-primary m-btn--pill btn-lg" id="qrShareButton" data-toggle="modal" data-target="#modalShareByQrcode">@Html.GetTansByLan("packet-packetIndex-28", "生成二维码分享图")</button>
                        </div>
                        <div class="share-item" hidden="true">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-40", "Packets share via Wechat")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-41", "Click Wechat logo and share the link in Wechat")</div>
                            <button class="btn btn-block btn-outline-weixin m-btn--pill btn-lg" id="wxShareButton"><i></i>@Html.GetTansByLan("packet-packetIndex-12", "分享到微信")</button>
                        </div>
                    </div>
                    <div class="m-packet_wxtips" id="wxTips" style="display:none;"></div>
                </div>
            </div>

            <div class="modal fade" id="modalShareByQrcode" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-newby" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        </div>
                        <div class="modal-body">
                            <div class="celeb-packet">
                                <div class="awardmax">@Html.GetTansByLan("packet-packetIndex-64", "最多") @Model.NewUserPacketMaxAmount.ToString("N0") @Html.GetTansByLan("packet-silk-alias-01", "Silk积分")</div>
                                <div class="qrcode-box"><div id="J_qrcode-hook"></div><p class="scan-tips">@Html.GetTansByLan("packet-packetIndex-65", "扫我领红包")</p></div>
                                <div class="slogan-mark">@Html.GetTansByLan("packet-packetIndex-66", "Silk-全球自由贸易行业加密数字通证链接世界工厂与全球中小企业买产品，买服务，足不出户做全球生意")</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        }
        else
        {
            <div class="m-packet__container m-stack m-stack--flex-general m-packet_popup" style="background-color:#f2f3f8;">
                <div class="m-packet__wrapper">
                    <div class="m-packet_backwrap">
                        <div class="m-packet_rich-icon"><div class="m-packet_rich-cover">@Html.GetTansByLan("packet-packetIndex-09", "Best wishes")</div></div>
                        <div class="m-txt-1">@Html.GetTansByLan("packet-packetIndex-10", "Lucky Silk Packet")</div>
                        <div class="m-txt-2">@Html.GetTansByLan("packet-packetIndex-11", "Copy lucky silk packet url and send to friends")</div>
                    </div>
                    <div class="m-packet_copybtn">
                        <div class="share-item">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-36", "Packets share via link")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-37", "Copy link and send to others")</div>
                            <div class="input-group m-pill-round">
                                <input class="m-packet_copy-input" type="text" id="send_money_address" readonly value="@ViewBag.Url" />
                                <span class="input-group-btn" id="send_money_trigger" data-clipboard-target="#send_money_address">
                                    <button class="btn btn-secondary" onclick="return copyValToClipboard('#send_money_trigger')"><i class="io-copy"></i></button>
                                </span>
                            </div>
                        </div>
                        <div class="share-item">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-38", "Packets share via QR code")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-39", "Click to get QR code,screeshot to share")</div>
                            <button class="btn btn-block btn-outline-primary m-btn--pill btn-lg" id="qrShareButton" data-toggle="modal" data-target="#modalShareByQrcode">@Html.GetTansByLan("packet-packetIndex-28", "生成二维码分享图")</button>
                        </div>
                        <div class="share-item" hidden="true">
                            <div class="share-tle">@Html.GetTansByLan("packet-packetIndex-40", "Packets share via Wechat")</div>
                            <div class="share-sub">@Html.GetTansByLan("packet-packetIndex-41", "Click Wechat logo and share the link in Wechat")</div>
                            <button class="btn btn-block btn-outline-weixin m-btn--pill btn-lg" id="wxShareButton"><i></i>@Html.GetTansByLan("packet-packetIndex-12", "分享到微信")</button>
                        </div>
                    </div>
                    <div class="m-packet_wxtips" id="wxTips" style="display:none;"></div>
                </div>
            </div>

            <div class="modal fade" id="modalShareByQrcode" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog modal-shareby" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        </div>
                        <div class="modal-body">
                            <div class="celeb-packet">
                                <div class="sendname">
                                    <strong>@Model.CreateUserName</strong>@Html.GetTansByLan("packet-packetIndex-43", "‘s Lucky Packet")
                                    <i>
                                        @if (Model.UseType == 1)
                                        {
                                            @Html.Raw(Html.GetTansByLan("packet-packetIndex-27", "I"))
                                        }
                                        else
                                        {
                                            @Html.Raw(Html.GetTansByLan("packet-packetIndex-26", "R"))
                                        }
                                    </i>
                                </div>
                                <div class="leavemessage"><div class="message-cell">@(string.IsNullOrEmpty(Model.Message) ? Html.GetTansByLan("packet-packetIndex-42", "Best wishes") : Model.Message)</div></div>
                                <div class="qrcode-box" id="J_qrcode-hook"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }

        @section script{
            <script type="text/javascript">
                $(function () {
                    is_weixn();
                    function is_weixn() {
                        var ua = navigator.userAgent.toLowerCase();
                        if (/micromessenger/i.test(ua)) {
                            $("#wxShareButton").parent().show();
                            $("#wxShareButton").parent().removeAttr('hidden');
                        } else {
                            $("#wxShareButton").parent().hide();
                        }
                        $("#wxShareButton").on('click', function () {
                            $("#wxTips").show();
                        });
                    }
                    $('#modalShareByQrcode').one('shown.bs.modal', function () {
                        var wd = $('#J_qrcode-hook').width();
                        $("#J_qrcode-hook").empty().qrcode({ width: wd, height: wd, text: $('#send_money_address').val() });
                    });
                });
            </script>
        }
    }
}
else
{
    <div class="modal fade" id="modalLuckyMoney" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-draw" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="Reback('@Model.From');"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="svg-wrap">
                        <svg class="pathfillellipse" width="100%" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0 L360 0 L360 300 Q180 385 0 300 L0 0 Z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#d2463c" fill="#d2463c" />
                        </svg>
                    </div>
                    <div class="red-packet">
                        <div class="avatar"><img width="90%" src="/images/ba-active/red-packet-logo.png" /></div>
                        <div class="sendname">@Model.CreateUserName</div>
                        <div class="sendopt">@Html.GetTansByLan("packet-packetIndex-25", "Sent you a red packet")</div>
                        <div class="leavemessage"><div class="message-cell">@Model.Message</div></div>
                        <button class="draw-silk" onclick="GetPacket('@Model.PacketID', '@Model.ShareUserID');"></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalOverdueMoney" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-draw" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="Reback();"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="svg-wrap">
                        <svg class="pathfillellipse" width="100%" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0 L360 0 L360 300 Q180 385 0 300 L0 0 Z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#d2463c" fill="#d2463c" />
                        </svg>
                    </div>
                    <div class="red-packet">
                        <div class="avatar"><img width="90%" src="/images/ba-active/red-packet-logo.png" /></div>
                        <div class="sendname">@Model.CreateUserName</div>
                        <div class="sendopt">@Html.GetTansByLan("packet-packetIndex-13", "Sent you a red packet")</div>
                        <div class="leavemessage"><div class="message-cell">@Html.GetTansByLan("packet-packetIndex-14", "Red packet has exceeded 24 hours. If you have already opened it, you can check from 'my red packet'")</div></div>
                        <div class="btnspace"></div>
                        <div class="viewdetail">
                            <a class="viewdelnk" href="#" onclick="ViewDetail('1');">
                                @Html.GetTansByLan("packet-packetIndex-61", " View details")&gt;
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalLuckyMoneyDetail" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-draw modal-draw-detail" role="document">

            <form action="/Packet/@Model.PacketID/@Model.GetUserID" method="post" id="form1">
                <input type="hidden" id="FromShare" name="FromShare" value="1" />
                <input type="hidden" id="ShareUserID" name="ShareUserID" value="@Model.GetUserID" />
                <input type="hidden" id="OnlyCode" name="OnlyCode" value="@Model.PacketID" />
            </form>

            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="Reback();"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="svg-wrap">
                        <svg class="pathfillellipse" width="100%" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0 L360 0 L360 50 Q180 125 0 50 L0 0 Z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#e13c23" fill="#e13c23" />
                        </svg>
                    </div>
                    <div class="draw-detail-container m-stack m-stack--flex-general">
                        <div class="red-packet">
                            <div class="avatar"><img width="90%" src="/images/ba-active/red-packet-logo.png" /></div>
                            <div class="sendname">
                                <strong>@Model.CreateUserName</strong>
                                <i>
                                    @if (Model.UseType == 1)
                                    {
                                        @Html.Raw(Html.GetTansByLan("packet-packetIndex-27", "I"))
                                    }
                                    else
                                    {
                                        @Html.Raw(Html.GetTansByLan("packet-packetIndex-26", "R"))
                                    }
                                </i>
                            </div>
                            <div class="price">
                                @if (viewmodel == "4")
                                {
                                    <span>@Html.GetTansByLan("packet-packetIndex-62", "The hand is slow and the red packet is finished")</span>
                                }
                                else
                                {
                                    <strong>@getAmount.ToString("N2")</strong><em>@Html.GetTansByLan("packet-silk-alias-01", "SILK")</em>
                                }
                            </div>
                            @if (Model.IsShare == 1)
                            {
                                string btnView = string.Empty;
                                if (Model.Status == 1 || Model.IsOverTime == 1)
                                {
                                    btnView = "disabled='disabled'";
                                }
                                <div class="text-center share-out">
                                    <button class="btn btn-outline-share m-btn--pill" onclick="ShareList('@Model.PacketID');">@Model.TotalShareAmount.ToString("0.00")@Html.GetTansByLan("packet-packetIndex-16", " Silk by")<br />@Html.GetTansByLan("packet-packetIndex-17", "packet sharing")</button>
                                    <button class="btn btn-outline-share m-btn--pill" onclick="SharePacket();" @btnView><i class="fa fa-wechat"></i>@Html.GetTansByLan("packet-packetIndex-15", " Share Packet")</button>
                                </div>
                            }
                            @if (viewmodel != "4")
                            {
                                <div class="drawtips"><a href="/Recharge/Summary">@Html.GetTansByLan("packet-packetIndex-22", "Red Packet transferred to Wallet")</a></div>
                            }
                        </div>
                        <div class="red-box-wrapper rounded-0">
                            <article>
                                <div class="wish-word">@Html.Raw(Model.Message ?? Html.GetTansByLan("packet-send-08", "Best wishes"))</div>

                                <div class="row row-gutter-size mt-3 @((Model.FileList != null && Model.FileList.Count > 0)?"":"bg-none")">
                                    @if (Model.FileList != null && Model.FileList.Count > 0)
                                    {
                                        foreach (var item in Model.FileList)
                                        {
                                            <div class="col-12">
                                                <div class="m-img-square">
                                                    <div class="m-bg-img"><img src="@Html.GetImageUrl(item.FileUrl)" onerror="resetImgUrl(this)" /></div>
                                                </div>
                                            </div>
                                        }
                                    }
                                    else
                                    {
                                        <div class="col-12">
                                            <div class="m-img-square">
                                                @if (Html.GetLang() == "en")
                                                {
                                                    <div class="m-bg-img"><img src="@Html.GetImageUrl(picUrl_En)" onerror="resetImgUrl(this)" /></div>

                                                }
                                                else
                                                {
                                                    <div class="m-bg-img"><img src="@Html.GetImageUrl(picUrl)" onerror="resetImgUrl(this)" /></div>
                                                }
                                            </div>
                                        </div>
                                    }
                                </div>
                            </article>
                        </div>
                        <div class="draw-packet">
                            <div class="draw-packet-inner">
                                <div class="draw-packet-tle">@packetResult</div>
                                <div class="rowitem-ul">
                                    @if (Model.ItemList != null && Model.ItemList.Count > 0)
                                    {
                                        foreach (var item in Model.ItemList)
                                        {
                                            string luck = string.Empty;
                                            if (item.GetAmount == Model.MaxAmount && Model.Status != 0 && Model.UseType == 0)
                                            {
                                                luck = Html.GetTansByLan("packet-packetIndex-23", "Luckiest Draw");
                                            }
                                            string referal = string.Empty;
                                            if (item.ShareUserID == Model.GetUserID)
                                            {
                                                referal = Html.GetTansByLan("packet-packetIndex-24", "Referal");
                                            }

                                            <div class="rowitem">
                                                <div class="rowmd">
                                                    <div class="headpic"><span class="default-img"></span></div>
                                                    <div class="nametxt">
                                                        @if (item.GetUserName.Length == 1)
                                                        {
                                                            <span>@(item.GetUserName + "*****")</span>
                                                        }
                                                        else if (item.GetUserName.Length == 2)
                                                        {
                                                            <span>@(item.GetUserName + "****")</span>
                                                        }
                                                        else
                                                        {
                                                            <span>@(item.GetUserName.Substring(0, 2) + "***" + item.GetUserName.Substring(item.GetUserName.Length - 1, 1))</span>
                                                        }
                                                    </div>
                                                    <div class="datenub">@item.GetTime.ToString("MM-dd HH:mm")</div>
                                                </div>
                                                <div class="rowft">
                                                    <div class="distrib">@item.GetAmount.ToString("N2")<div class="linefeed"><span class="text-orange">@Html.Raw(luck)</span> <span class="text-bule">@Html.Raw(referal)</span></div></div>
                                                </div>
                                            </div>
                                        }
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalFinishedMoney" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-draw" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="Reback();"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="svg-wrap">
                        <svg class="pathfillellipse" width="100%" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0 L360 0 L360 300 Q180 385 0 300 L0 0 Z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#d2463c" fill="#d2463c" />
                        </svg>
                    </div>
                    <div class="red-packet">
                        <div class="avatar"><img width="90%" src="/images/ba-active/red-packet-logo.png" /></div>
                        <div class="sendname">@Model.CreateUserName</div>
                        <div class="leavemessage">
                            <div class="message-cell">@Html.GetTansByLan("packet-packetIndex-62", "The hand is slow and the red packet is finished")</div>
                        </div>
                        <div class="btnspace"></div>
                        <div class="viewdetail">
                            <a class="viewdelnk" href="#" onclick="ViewDetail('2');">
                                @Html.GetTansByLan("packet-packetIndex-61", " View details")&gt;
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalLuckyMoneydInfo" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-draw modal-draw-detail" role="document">

            <form action="/Packet/@Model.PacketID/@Model.GetUserID" method="post" id="form1">
                <input type="hidden" id="FromShare" name="FromShare" value="1" />
                <input type="hidden" id="ShareUserID" name="ShareUserID" value="@Model.GetUserID" />
                <input type="hidden" id="OnlyCode" name="OnlyCode" value="@Model.PacketID" />
            </form>

            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="Reback();"><span aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="svg-wrap">
                        <svg class="pathfillellipse" width="100%" viewBox="0 0 360 360" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0 L360 0 L360 50 Q180 125 0 50 L0 0 Z" fill-opacity="null" stroke-opacity="null" stroke-width="0" stroke="#e13c23" fill="#e13c23" />
                        </svg>
                    </div>
                    <div class="draw-detail-container m-stack m-stack--flex-general">
                        <div class="red-packet">
                            <div class="avatar"><img width="90%" src="/images/ba-active/red-packet-logo.png" /></div>
                            <div class="sendname">
                                <strong>@Model.CreateUserName</strong>
                                <i>
                                    @if (Model.UseType == 1)
                                    {
                                        @Html.Raw(Html.GetTansByLan("packet-packetIndex-27", "I"))
                                    }
                                    else
                                    {
                                        @Html.Raw(Html.GetTansByLan("packet-packetIndex-26", "R"))
                                    }
                                </i>
                            </div>
                        </div>
                        <div class="red-box-wrapper rounded-0">
                            <article>
                                <div class="wish-word">@Html.Raw(Model.Message ?? Html.GetTansByLan("packet-send-08", "Best wishes"))</div>

                                <div class="row row-gutter-size mt-3 @((Model.FileList != null && Model.FileList.Count > 0)?"":"bg-none")">
                                    @if (Model.FileList != null && Model.FileList.Count > 0)
                                    {   
                                        foreach (var item in Model.FileList)
                                        {
                                            <div class="col-12">
                                                <div class="m-img-square">
                                                    <div class="m-bg-img"><img src="@Html.GetImageUrl(item.FileUrl)" onerror="resetImgUrl(this)" /></div>
                                                </div>
                                            </div>
                                        }
                                    }
                                    else
                                    {
                                        <div class="col-12">
                                            <div class="m-img-square">
                                                <div class="m-bg-img">
                                                    @if (Html.GetLang() == "en")
                                                    {
                                                        <img src="@Html.GetImageUrl(picUrl_En)" onerror="resetImgUrl(this)" />
                                                    }
                                                    else
                                                    {
                                                        <img src="@Html.GetImageUrl(picUrl)" onerror="resetImgUrl(this)" />
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </article>
                        </div>
                        <div class="text-center">
                            <div class="ft-act-wrap">
                                <div class="ft-act-cell">
                                    <button class="btn btn-block btn-danger m-btn--pill btn-lg" onclick="GetPacket('@Model.PacketID','@Model.ShareUserID');">@Html.Raw(Html.GetTansByLan("packet-getpacket-ad-open", "Open"))</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalMsgAlert" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-alert" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="gala" id="J_modalAlertCont">
                        @Html.GetTansByLan("packet-getpacket-aderror-08", "You have already registered")
                    </div>
                    <div class="regis-btn">
                        <button class="btn btn-block btn-alert m-btn--pill btn-lg" data-dismiss="modal" aria-label="Close">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @section script{
    <script type="text/javascript">
        function resetImgUrl(obj) {
            obj.src = obj.src.replace("https://i.silkchain.io", "https://imgserver.silkchain.io");
            obj.onerror = null;
        };
        $('img').on('error', function () {
            newsrc = $(this).attr('src').replace("https://i.silkchain.io", "https://imgserver.silkchain.io");
            $(this).attr('src', newsrc);
        });
            var v = "1";

            function GetPacket(onlycode, shareuserid) {
                $.post('/Packet/GetPacket', { OnlyCode: onlycode, ShareUserID: shareuserid }, function (data) {
                    if (data.code == "1") {
                        if (isWeiXin()) {
                            window.location.href = updateUrl(window.location.href);
                        } else {
                            window.location.reload();
                        }
                    } else {
                        if (isWeiXin()) {
                            window.location.href = updateUrl(window.location.href);
                        } else {
                            window.location.reload();
                        }
                    }

                });
            }

            $(function () {
                var host = window.location.host;
                if (isWeiXin() && host != "wallet.silkb2b.io") {
                    window.location.href = window.location.href.replace('wallet.silkchain.io', '@ViewBag.Host_Wx');
                }

                v = "1";
                switch ('@viewmodel') {
                    case "1":
                        $('#modalLuckyMoney').modal('show');
                        break;
                    case "2":
                        $('#modalLuckyMoneyDetail').modal('show');
                        break;
                    case "3":
                        $('#modalOverdueMoney').modal('show');
                        break;
                    case "4":
                        $('#modalFinishedMoney').modal('show');
                        break;
                    case "5":
                        $('#modalLuckyMoneydInfo').modal('show');
                        break;
                    case "6":
                        location.href = "/Packet/NewUserInvitingDetails?id=" + '@Model.PacketID';
                        break;
                    case "7":
                        $('#modalMsgAlert').modal('show');
                        break;
                }

                    $('img').on('error', function () {

                       // alert($(this).attr('src'));
                        var newsrc = $(this).attr('src').replace('kycimg1.silkchain.io', 'kycimg2.silkchain.io');
                        $(this).attr('src', newsrc);
                    });
            });

            function ViewDetail(type) {
                v = "0";
                if (type == 1) {
                    $('#modalOverdueMoney').modal('hide');
                } else {
                    $('#modalFinishedMoney').modal('hide');
                }
                $('#modalLuckyMoneyDetail').modal('show');
                v = "1";
                $('#modalLuckyMoneyDetail').one('bsTransitionEnd', function(){
                    $(document.body).addClass('modal-open');
                });
            }

            function Reback(from) {
                if (from == 1) {
                    location.href = "/Packet/GetPacketDetail?Type=send";
                } else if (from == 2) {
                    location.href = "/Packet/GetPacketDetail?Type=rece";
                } else {
                    location.href = "/Recharge/Summary";
                }
            }

            $('#modalLuckyMoney,#modalOverdueMoney,#modalLuckyMoneyDetail,#modalFinishedMoney,#modalMsgAlert').on('hide.bs.modal', function () {
                if (v == "1") {
                    Reback('@Model.From');
                }
            });

            function isWeiXin(){
                var ua = window.navigator.userAgent.toLowerCase();
                if(ua.match(/MicroMessenger/i) == 'micromessenger'){
                    return true;
                }else{
                    return false;
                }
            }

            function updateUrl(url,key){
                var key= (key || 't') +'=';  //默认key是"t",可以传入key自定义
                var reg=new RegExp(key+'\\d+');
                var timestamp=+new Date();
                if(url.indexOf(key)>-1){
                    return url.replace(reg,key+timestamp);
                }else{
                    if(url.indexOf('\?')>-1){
                        var urlArr=url.split('\?');
                        if(urlArr[1]){
                            return urlArr[0]+'?'+key+timestamp+'&'+urlArr[1];
                        }else{
                            return urlArr[0]+'?'+key+timestamp;
                        }
                    }else{
                        if(url.indexOf('#')>-1){
                            return url.split('#')[0]+'?'+key+timestamp+location.hash;
                        }else{
                            return url+'?'+key+timestamp;
                        }
                    }
                }
            }

            function ShareList(id) {
                location.href = "/Packet/ShareRewardList?PacketId=" + id;
            }

            function SharePacket() {
                $("#form1").submit();
            }


    </script>
    }
}
