@using SKC.Entity.DBModels;
@model  SKC.Entity.Models.AffiliateIndexModel
@{
    //ViewData["Title"] = "Index";
    var user = ViewBag.Account as SkcUser;
    ViewBag.Title = "SilkChain - Referral";
}

<style>
.table thead th {border-bottom:1px solid #cccccc;}
button:disabled {cursor:not-allowed;}
.background-default {background-color:#fff !important;}
.background-theme {background-color:#F2F3F8 !important;}
.background-metal {background-color:#808080 !important;}
.background-info {background-color:#2485C9 !important;}
.make-center {/*  justify-content:center;-webkit-justify-content:center;display:flex;align-items:center;*/    display:table-cell;vertical-align:middle;}
.make-inline {display:inline-block;vertical-align:-webkit-baseline-middle;}
.amount-subinfo p:nth-child(1) {visibility:hidden;}
.amount-subinfo p:nth-child(2) {display:none;}
.amount-subinfo.active p:nth-child(1) {visibility:visible;}
.amount-subinfo.active p:nth-child(2) {display:block;}
.dark-color {color:#575962 !important;}
.mb-10 {margin-bottom:10px !important;}
.font-size-12 {font-size:12px !important;}
.font-size-14 {font-size:14px !important;}
.form-control[readonly], .form-control {border-color:#ccc;}
.form-control[disabled] {border-color:#ccc;}
.form-control[readonly]:focus {border-color:#ccc;}
.input-group .input-group-addon {border-color:#ccc;background-color:#fff;}
.input-group .input-group-btn > .btn.btn-secondary {border-color:#ccc;}
.m-portlet .m-portlet__head {border-bottom:1px solid #CCCCCC;}
.table td {border-top:1px solid #CCCCCC;}
#head-info th {text-align:center;vertical-align:top;border-top:none;border-bottom:none;white-space:normal;vertical-align:middle;}
#head-info thead th:first-child {border-right:1px solid #CCCCCC;}
#head-info thead th:nth-child(2) {border-right:none;}
.alert.m-alert--outline.alert-danger .close {font-size:29px;font-weight:500;}
@@media(min-width:992px) {.clock-after::after {content:":";display:block;position:absolute;top:2px;right:-4px;font-size:21px;font-weight:700;}
.affi-vertify-section .input-group {max-width:600px}
}
@@media(max-width:991px) {
#head-info h5 {font-size:0.923rem;}
#head-info h1 {font-size:1.2857rem;}
#eth-buy-ezt-form .m-demo-icon__preview,#btc-buy-ezt-form .m-demo-icon__preview {margin:20px auto !important;}
#btc-exchange .m-portlet {margin-bottom:30px !important;}
.m-body .m-content {padding:30px 30px;}
.amount-subinfo p:nth-child(1) {display:none;visibility:visible;}
.amount-subinfo.active p:nth-child(1) {display:block;}
}
.btn-secondary:HOVER {background-color:#fff !important;}
#affiliate {font-size:18px;}
h5 {text-transform:capitalize;}
.light-color {color:#999;}
.affi-vertify-section h5 {font-size:1.142857rem;color:#333;}
.affi-vertify-section p {font-size:1rem;}
</style>
<div class="m-grid__item m-grid__item--fluid m-wrapper">
    <div class="m-content" style="background-color: #F2F3F8 !important;">
        <div class="row">
            <div class="col-lg-12">
                <div class="m-portlet m-portlet--mobile m-portlet--skin-dark">
                    <div class="m-portlet__head">
                        <div class="m-portlet__head-caption">
                            <div class="m-portlet__head-title"><h3 class="m-portlet__head-text"><span class="font-weight-bold">@Html.GetTansByLan("affiliate-index-01", "YOUR Referral URL")</span></h3></div>
                        </div>
                    </div>
                    <div class="m-portlet__body">
                        <div class="affi-vertify-section">
                            <h5>@Html.GetTansByLan("affiliate-index-14", "YOUR Referral URL")</h5>
                            @if (ViewBag.InviteUrl != "")
                            {
                                <div class="input-group">
                                    <input type="text" class="form-control" style="display:inline-block;" id="affiliate_invite_address" readonly value="@(ViewBag.InviteUrl)">
                                    <span class="input-group-btn" id="affiliate_trigger" data-clipboard-target="#affiliate_invite_address">
                                        <button class="btn btn-secondary" onclick="return copyValToClipboard('#affiliate_trigger')">
                                            <i class="io-copy"></i>
                                        </button>
                                    </span>
                                </div>
                            }
                            else
                            {
                                <span id="affiliate" style="word-break:break-all">@Html.GetTansByLan("affiliate-index-title-01", "Please complete the")<a href="/Account/KYC">@Html.GetTansByLan("affiliate-index-title-02", "KYC certification")</a></span>
                            }
                        </div>
                        <div class="affi-vertify-section mt-4">
                            <h5>@Html.GetTansByLan("affiliate-index-15", "Referral Bonus:")</h5>
                            <p class="light-color mb-0">@Html.GetTansByLan("candy-index-06", " Get your referral url on affiliate page of website account and invite friends to sign up on SilkChain. Send the url to friend at Facebook, Twitter, Reddit, Medium, Google+, Telegram Group, or any other online platforms. The More You Refer, The More Free Silk You Get!")<br />@Html.GetTansByLan("candy-index-21", "1 referral = 50 Silk (≈ $3)")<br />@Html.GetTansByLan("candy-index-22", "Every 10 referrals = 500 Silk + 100 Silk (extra referral bonus)")<br />@Html.GetTansByLan("candy-index-07", "Sign up and refer friends, get more than $42 worth Silk bonus for every 1 registration and 10 referrals!")</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="row mb-10">
            <div class="col-lg-12 pr-3 pl-3 background-theme">
                <div class="background-default">
                    <table class="table m-table m-0" id="head-info" style="border:none;">
                        <thead>
                            <tr class="row" style="margin:0;padding:20px 0px">
                                <th class="col-6" style="height:auto;padding:5px 0px;background:none;">
                                    <h5 class="dark-color">@Html.GetTansByLan("affiliate-index-02", "Number of Referrals")</h5>
                                    <h1 class="dark-color" style="margin: 0">
                                       @Model.CountAllAffiliate
                                    </h1>
                                </th>
                                <th class="col-6" style="height:auto;padding:5px 0px;background:none;">
                                    <h5 class="dark-color">@Html.GetTansByLan("affiliate-index-03", "Total referraled amount")</h5>
                                    <h1 class="dark-color" style="margin: 0">
                                        @Html.AmountFormat(Model.CountAllAffiliateCandy) @SKC.Common.GlobalConfig.Coin_ShortName
                                    </h1>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
        <div class="m-portlet m-portlet--mobile m-portlet--skin-dark">
            <div class="m-portlet__body m-portlet__body--no-padding">

                <div class="ptlet-pedal">
                    <div class="ptlet-pedal-hd">@Html.GetTansByLan("affiliate-index-04", "TRANSACTIONS")</div>
                    <div style="padding:0px 0px 15px 0px">
                        <div class="table-responsive">
                            <table class="table" style="width: 100%">
                                <thead class="m-datatable__head">
                                    <tr class="m-datatable__row">
                                        <th>@Html.GetTansByLan("affiliate-index-05", "Date")</th>
                                        <th class="text-right">@Html.GetTansByLan("affiliate-index-06", "Amount")</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.ShowDataList != null && Model.ShowDataList.Count > 0)
                                    {
                                        foreach (SkcCandyRecord item in Model.ShowDataList)
                                        {
                                    <tr>
                                        <td>@item.CreateTimeDatetime.ToShortDateString()</td>
                                        <td class="text-right">@Html.AmountFormat(item.AmountDecimal)</td>
                                    </tr>
                                        }
                                    }
                                    else { 
                                        <tr><td colspan="4">@Html.GetTansByLan("affiliate-index-07", "No data available")</td></tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="m-portlet m-portlet--mobile m-portlet--skin-dark mb-0">
            <div class="m-portlet__body m-portlet__body--no-padding">

                <div class="ptlet-pedal">
                    <div class="ptlet-pedal-hd">@Html.GetTansByLan("affiliate-index-08", "REFERRALS")</div>
                    <div style="padding:0px 0px 15px 0px">
                        <div class="table-responsive">
                            <table class="table" style="width: 100%">
                                <thead class="m-datatable__head">
                                    <tr class="m-datatable__row">
                                        <th>@Html.GetTansByLan("affiliate-index-09", "User")</th>
                                        <th>@Html.GetTansByLan("affiliate-index-10", "Date")</th>
                                        <th>@Html.GetTansByLan("affiliate-index-11", "KYC Status")</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (Model.AffiliateUserList != null && Model.AffiliateUserList.Count > 0)
                                    {
                                        foreach (var item in Model.AffiliateUserList)
                                        {
                                            string status = item.Status == 1 ? Html.GetTansByLan("affiliate-index-12", "Verification passed") : Html.GetTansByLan("affiliate-index-13", "Unverified");
                                            <tr>
                                                <td>@Html.Raw(item.UserName.Substring(0, 3) + "***")</td>
                                                <td>@item.CreateTime.ToShortDateString()</td>
                                                <td>@status</td>
                                            </tr>
                                        }
                                    }
                                    else
                                    {
                                        <tr><td colspan="3">@Html.GetTansByLan("affiliate-index-07", "No data available")</td></tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>
